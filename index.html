<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Ficha del trabajador</title>

<style>
body {
  font-family: Arial;
  background:#f2f2f2;
  padding:20px;
}
.card {
  background:white;
  padding:20px;
  border-radius:10px;
  max-width:400px;
  margin:auto;
  box-shadow:0 0 10px rgba(0,0,0,0.2);
}
h2 {
  text-align:center;
}
.item {
  margin:10px 0;
}
.label {
  font-weight:bold;
}
</style>
</head>

<body>
<div style="text-align:center; margin-bottom:15px;">
  <img src="imagen confi.png" alt="Logo empresa" style="max-width:180px;">
</div>
<div class="card">
  <h2>PROGRAMA DE CALIFICACION DEL PERSONAL</h2>
  <div class="item"><span class="label">Nombre:</span> <span id="nombre"></span></div>
  <div class="item"><span class="label">Cargo:</span> <span id="cargo"></span></div>
   <h2>CAPACITACIONES VIGENTES:</h2>
  <div class="item"><span class="label">Capacitación vigente:</span> <span id="cap"></span></div>
  <div class="item"><span class="label">Fecha de realización:</span> <span id="fecha"></span></div>
</div>

<script>
const params = new URLSearchParams(window.location.search);
const id = params.get("id");

// ⚠️ Pega aquí TU URL real de Apps Script
const API = "https://script.google.com/macros/s/AKfycbyoNTQmJCw0c5lFraFn9lxIZ9kvoCWaM6g-I6s3mjhWYyrxH4Dyr9wM24hZbmxyAyRLmw/exec";

fetch(API + "?id=" + id)
  .then(res => res.json())
  .then(data => {
    if (data.error) {
      alert(data.error);
      return;
    }
document.getElementById("nombre").textContent = data.Nombre;
document.getElementById("cargo").textContent = data.Cargo;
document.getElementById("cap").textContent = data.Capacitacion;
document.getElementById("fecha").textContent = data.Fecha;

  })
  .catch(err => {
    alert("Error conectando con la base de datos");
    console.error(err);
  });
</script>

</body>
</html>
